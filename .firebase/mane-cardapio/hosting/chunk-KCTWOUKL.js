import{$ as d,A as O,B as x,Ea as z,F as p,H as s,I as M,L as l,P as a,Q as r,R as u,S as b,T as m,U as c,aa as g,ba as f,cb as I,ga as v,ia as C,n as P,na as y,o as h,pa as w,x as i}from"./chunk-5DVAFENP.js";function S(n,o){if(n&1&&(a(0,"p",4),d(1),r()),n&2){let t=c();i(),g(t.description)}}function D(n,o){if(n&1&&(a(0,"p",7),d(1),v(2,"number"),r()),n&2){let t=c();i(),f("R$ ",C(2,1,t.price,"1.2-2"),"")}}function F(n,o){if(n&1){let t=b();a(0,"button",9),m("click",function(_){return P(t),c().setFavorite(),h(_.stopPropagation())}),u(1,"mat-icon",10),r()}if(n&2){let t=c();i(),s("svgIcon",t.myFavorites.includes(t.productData.documentId)?"favorite":"favorite-border")}}var k=class n{constructor(o){this.router=o;this.loadFavorites()}layout="horizontal";id;title;imageUrl;description;price;currentPrice;isFavorite=!1;productData;myFavorites=[];loadFavorites(){this.myFavorites=JSON.parse(localStorage.getItem("favoriteProducts")||"[]")}onNavigate(){this.router.navigate(["/produto",JSON.stringify(this.productData)])}setFavorite(){let o=JSON.parse(localStorage.getItem("favoriteProducts")||"[]");if(this.productData){let t=o.indexOf(this.productData.documentId);t===-1?o.push(this.productData.documentId):o.splice(t,1),localStorage.setItem("favoriteProducts",JSON.stringify(o)),this.myFavorites=o}}static \u0275fac=function(t){return new(t||n)(O(z))};static \u0275cmp=x({type:n,selectors:[["app-product-card"]],inputs:{layout:"layout",id:"id",title:"title",imageUrl:"imageUrl",description:"description",price:"price",currentPrice:"currentPrice",isFavorite:"isFavorite",productData:"productData"},standalone:!1,decls:12,vars:11,consts:[[1,"product-card",3,"click","ngClass"],[1,"product-image"],[1,"product-info"],[1,"info-title"],[1,"info-description"],[1,"price-wrapper"],[1,"price-current"],[1,"price-original"],[1,"btn-favorite"],[1,"btn-favorite",3,"click"],[3,"svgIcon"]],template:function(t,e){t&1&&(a(0,"div",0),m("click",function(){return e.onNavigate()}),u(1,"div",1),a(2,"div",2)(3,"p",3),d(4),r(),p(5,S,2,1,"p",4),a(6,"div",5)(7,"p",6),d(8),v(9,"number"),r(),p(10,D,3,4,"p",7),r()(),p(11,F,2,1,"button",8),r()),t&2&&(s("ngClass",e.layout),i(),M("background-image","url("+e.imageUrl+")"),i(3),g(e.title),i(),l(e.layout==="horizontal"&&e.description?5:-1),i(3),f(" R$ ",e.currentPrice&&e.currentPrice<e.price?e.currentPrice:C(9,8,e.price,"1.2-2")," "),i(2),l(e.currentPrice&&e.currentPrice<e.price?10:-1),i(),l(e.layout==="horizontal"?11:-1))},dependencies:[y,I,w],styles:[".product-card[_ngcontent-%COMP%]{display:flex;gap:1rem;overflow:hidden;cursor:pointer}.product-image[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:cover;border-radius:12px}.product-card.horizontal[_ngcontent-%COMP%]{flex-direction:row;align-items:center;padding:1.25rem 0;border-bottom:1px solid var(--gray-300)}.product-card.horizontal[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:66px;height:66px}.product-card.horizontal[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]{flex:1;min-width:0;display:flex;flex-direction:column;gap:4px}.product-card.horizontal[_ngcontent-%COMP%]   .info-title[_ngcontent-%COMP%], .product-card.horizontal[_ngcontent-%COMP%]   .price-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text, var(--green-700));font-weight:700}.product-card.horizontal[_ngcontent-%COMP%]   .info-description[_ngcontent-%COMP%]{font-size:.75rem;color:var(--gray-500);font-weight:lighter;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.product-card.horizontal[_ngcontent-%COMP%]   .price-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.product-card.horizontal[_ngcontent-%COMP%]   .price-original[_ngcontent-%COMP%]{text-decoration:line-through;opacity:32%;font-size:.75rem}.product-card.horizontal[_ngcontent-%COMP%]   .btn-favorite[_ngcontent-%COMP%]{background:none;border:none}.product-card.horizontal[_ngcontent-%COMP%]   .btn-favorite[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:15px}.product-card.vertical[_ngcontent-%COMP%]{flex-direction:column;background-color:#fff}.product-card.vertical[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:100%;height:90px}.product-card.vertical[_ngcontent-%COMP%]   .info-title[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-text, var(--green-700));font-weight:700;margin-bottom:.5rem;text-overflow:ellipsis;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.product-card.vertical[_ngcontent-%COMP%]   .price-current[_ngcontent-%COMP%]{font-size:.75rem;color:var(--gray-500);font-weight:400}"]})};export{k as a};
