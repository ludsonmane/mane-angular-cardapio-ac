import{a as he,b as ye,c as ve,d as be}from"./chunk-ATIGSWUA.js";import{a as Ce}from"./chunk-SSMQ3YPF.js";import{a as _e}from"./chunk-7HNQAFRX.js";import{a as R}from"./chunk-SX7D4KUA.js";import{a as H}from"./chunk-OXJIDWZG.js";import{a as V}from"./chunk-6JKIQUOL.js";import{b as fe}from"./chunk-J3JBHRUM.js";import{$ as h,A as l,Aa as ne,B as m,C as P,Ca as ae,Ea as ce,F as g,Fa as z,G as K,H as c,I as O,J as k,L,M as T,N as u,O as f,P as a,Q as n,R as s,S as D,T as C,U as d,aa as x,ca as Q,cb as se,da as X,db as le,e as W,ea as Y,fa as Z,ga as y,ha as _,i as J,ib as de,j as b,jb as pe,kb as me,l as q,la as ee,lb as ge,mb as ue,n as w,o as I,oa as E,qa as te,ta as ie,ua as oe,w as G,x as r,za as re}from"./chunk-5DVAFENP.js";var S=class i{constructor(t){this.http=t}apiBaseUrl=V.apiBaseUrl;token=V.token;headers=new ie({Authorization:`Bearer ${this.token}`});getCategories(){return this.http.get(this.apiBaseUrl+"categories",{headers:this.headers})}getCategoryById(t){return this.http.get("data/categories.json").pipe(W(e=>e.find(o=>o.id===t)))}static \u0275fac=function(e){return new(e||i)(q(oe))};static \u0275prov=J({token:i,factory:i.\u0275fac,providedIn:"root"})};var U=class i{constructor(t){this.router=t}isVertical=!1;name;imageUrl;colorBg;colorText;dataCategory;openCategoryProducts(){this.router.navigate(["categoria/",JSON.stringify(this.dataCategory)])}static \u0275fac=function(e){return new(e||i)(l(ce))};static \u0275cmp=m({type:i,selectors:[["app-category-card"]],inputs:{isVertical:"isVertical",name:"name",imageUrl:"imageUrl",colorBg:"colorBg",colorText:"colorText",dataCategory:"dataCategory"},standalone:!1,decls:5,vars:9,consts:[[1,"card-container",3,"click"],[1,"title"],[3,"src","alt"]],template:function(e,o){e&1&&(a(0,"div",0),C("click",function(){return o.openCategoryProducts()}),a(1,"div",1)(2,"p"),h(3),n()(),s(4,"img",2),n()),e&2&&(O("background-color",o.colorBg),k("vertical",o.isVertical),r(2),O("color",o.colorText),r(),x(o.name),r(),c("src",o.imageUrl,G)("alt",o.name))},styles:[".card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:.5rem;padding:1rem 0 0;background-color:#84c9d7;border-top-left-radius:.75rem;border-top-right-radius:.75rem;border-bottom-right-radius:100%;border-bottom-left-radius:100%}.title[_ngcontent-%COMP%]{text-align:center;font-size:.75rem;font-weight:700}.title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}img[_ngcontent-%COMP%]{width:100%;display:block}.card-container.vertical[_ngcontent-%COMP%]{height:120px;flex-direction:row;align-items:flex-start;justify-content:space-between;padding:1rem 0 0 1rem;overflow:hidden;border-radius:.75rem!important}.card-container.vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40%;margin:0 -1rem -1rem}"]})};var xe=(i,t)=>t.id;function ke(i,t){if(i&1){let e=D();a(0,"mat-icon",9),C("click",function(){w(e);let p=d();return I(p.cancelSearch())}),n()}}function De(i,t){if(i&1){let e=D();a(0,"button",10),C("click",function(){w(e);let p=d();return I(p.cancelSearch())}),h(1),y(2,"translate"),n()}i&2&&(r(),x(_(2,1,"BUTTONS.CANCEL")))}function Ee(i,t){if(i&1&&s(0,"app-category-card",11),i&2){let e=t.$implicit,o=t.$index;c("isVertical",o===0)("name",e.name)("imageUrl",e.theme.imageUrl)("colorBg",e.theme.colorBg)("colorText",e.theme.colorText)("dataCategory",e)}}function Re(i,t){if(i&1&&(a(0,"div",7),u(1,Ee,1,6,"app-category-card",11,T),n()),i&2){let e=d();r(),f(e.listCategories)}}function He(i,t){if(i&1){let e=D();a(0,"button",16),C("click",function(){let p=w(e).$implicit,M=d(2);return I(M.setType(p))}),h(1),n()}if(i&2){let e=t.$implicit,o=d(2);k("activate",o.selectedType===e),K("aria-pressed",o.selectedType===e),r(),Q(" ",e," (",o.getCount(e),") ")}}function Ue(i,t){if(i&1&&s(0,"app-product-card",17),i&2){let e=t.$implicit;c("id",e.id)("title",e.name)("description",e.description)("price",e.price)("imageUrl",e.imageUrl)("isFavorite",e.isFavorite)}}function Fe(i,t){i&1&&(s(0,"app-empty-state",18),y(1,"translate"),y(2,"translate")),i&2&&c("title",_(1,2,"SEARCH_FIELD.NO_RESULTS_FOUND"))("description",_(2,4,"SEARCH_FIELD.NO_RESULTS_FOUND_PLATE"))}function Ne(i,t){if(i&1&&(a(0,"div",14),u(1,Ue,1,6,"app-product-card",17,xe,!1,Fe,3,6,"app-empty-state",18),n()),i&2){let e=d(2);r(),f(e.filteredProducts)}}function Be(i,t){if(i&1&&s(0,"app-restaurant-card",19),i&2){let e=t.$implicit;c("id",e.id)("imageLogoUrl",e.imageLogoUrl)("name",e.name)}}function je(i,t){i&1&&(s(0,"app-empty-state",18),y(1,"translate"),y(2,"translate")),i&2&&c("title",_(1,2,"SEARCH_FIELD.NO_RESULTS_FOUND"))("description",_(2,4,"SEARCH_FIELD.NO_RESULTS_FOUND_TERM"))}function Ae(i,t){if(i&1&&(a(0,"div",15),u(1,Be,1,3,"app-restaurant-card",19,xe,!1,je,3,6,"app-empty-state",18),n()),i&2){let e=d(2);r(),f(e.filteredRestaurants)}}function Le(i,t){if(i&1&&(a(0,"div",8)(1,"div",12),u(2,He,2,5,"button",13,T),n(),g(4,Ne,4,1,"div",14)(5,Ae,4,1,"div",15),n()),i&2){let e,o=d();r(2),f(o.types),r(2),L((e=o.selectedType)==="pratos"?4:e==="restaurantes"?5:-1)}}var F=class i{constructor(t,e,o){this.searchDataService=t;this.productService=e;this.restaurantService=o}search="";selectedType="pratos";listCategories=[];types=["pratos","restaurantes"];listProducts=[];listRestaurants=[];filteredProducts=[];filteredRestaurants=[];ngOnInit(){this.loadCategories(),this.loadAllProducts(),this.loadAllRestaurants()}loadCategories(){this.searchDataService.getCategories().subscribe(t=>this.listCategories=t.data)}loadAllProducts(){this.productService.getProductByRestaurant().subscribe(t=>{this.listProducts=t,this.filteredProducts=t})}loadAllRestaurants(){this.restaurantService.getAllRestaurants().subscribe(t=>{this.listRestaurants=t,this.filteredRestaurants=t})}cancelSearch(){this.search="",this.filteredProducts=[...this.listProducts],this.filteredRestaurants=[...this.listRestaurants]}onSearch(){let t=this.search.toLowerCase().trim()||"";this.filteredProducts=this.listProducts.filter(e=>e.name.toLowerCase().includes(t)),this.filteredRestaurants=this.listRestaurants.filter(e=>e.name.toLowerCase().includes(t))}setType(t){this.selectedType=t,this.onSearch()}getCount(t){return t==="pratos"?this.filteredProducts.length:this.filteredRestaurants.length}static \u0275fac=function(e){return new(e||i)(l(S),l(R),l(he))};static \u0275cmp=m({type:i,selectors:[["app-search-home"]],standalone:!1,decls:10,vars:7,consts:[[1,"container","pd-bottom-90"],[1,"content-field"],[1,"form-field"],["svgIcon","search",1,"icon-search"],["type","text",3,"ngModelChange","input","ngModel","placeholder"],["class","icon-clear","svgIcon","close",3,"click",4,"ngIf"],["class","btn-cancel",3,"click",4,"ngIf"],[1,"categories"],[1,"result-search"],["svgIcon","close",1,"icon-clear",3,"click"],[1,"btn-cancel",3,"click"],[3,"isVertical","name","imageUrl","colorBg","colorText","dataCategory"],[1,"types"],[1,"btn-category",3,"activate"],[1,"list-products"],[1,"list-restaurants"],[1,"btn-category",3,"click"],[3,"id","title","description","price","imageUrl","isFavorite"],[3,"title","description"],[3,"id","imageLogoUrl","name"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),s(3,"mat-icon",3),a(4,"input",4),y(5,"translate"),Z("ngModelChange",function(M){return Y(o.search,M)||(o.search=M),M}),C("input",function(){return o.onSearch()}),n(),g(6,ke,1,0,"mat-icon",5),n(),g(7,De,3,3,"button",6),n(),g(8,Re,3,0,"div",7)(9,Le,6,1,"div",8),n()),e&2&&(r(4),X("ngModel",o.search),c("placeholder",_(5,5,"SEARCH.PLACEHOLDER")),r(2),c("ngIf",o.search),r(),c("ngIf",o.search),r(),L(o.search===""?8:9))},dependencies:[E,se,de,pe,me,H,ye,_e,U,re],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;padding:1.5rem 1.25rem;box-sizing:border-box}.content-field[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0;display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:.5rem;padding:.5rem .625rem;border-radius:.75rem;background-color:var(--gray-100)}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0;border:none;font-size:1rem;font-weight:lighter;color:var(--gray-500);outline:none;background:none;text-overflow:ellipsis}.form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:16px}.icon-clear[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%]{cursor:pointer}.btn-cancel[_ngcontent-%COMP%]{border:none;background:none;outline:none;font-size:1rem;font-weight:lighter;color:var(--gray-500)}.categories[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1.25rem}app-category-card[_ngcontent-%COMP%]:first-child{grid-column-start:1;grid-column-end:4}.types[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.75rem;overflow-x:auto}.products[_ngcontent-%COMP%]::-webkit-scrollbar, .types[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.btn-category[_ngcontent-%COMP%]{background:none;border:1px solid var(--gray-400);padding:.5rem .75rem;border-radius:1rem;font-size:.75rem;font-weight:400;text-transform:capitalize;color:var(--gray-500);transition:.3s}.btn-category.activate[_ngcontent-%COMP%]{border:none;background-color:var(--red-400);color:#fff}.list-restaurants[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-top:1.25rem}"]})};var N=class i{title;imageUrl;scrolled=!1;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=m({type:i,selectors:[["app-category-header"]],inputs:{title:"title",imageUrl:"imageUrl",scrolled:"scrolled"},standalone:!1,decls:6,vars:5,consts:[[1,"header-container"],[3,"showTitle","title"],[1,"category-info"],[1,"info-title"],[1,"info-img"]],template:function(e,o){e&1&&(a(0,"div",0),s(1,"app-header-actions",1),a(2,"div",2)(3,"h2",3),h(4),n(),s(5,"div",4),n()()),e&2&&(r(),c("showTitle",o.scrolled)("title",o.title),r(3),x(o.title),r(),O("background-image","url("+o.imageUrl+")"))},dependencies:[Ce],styles:[".header-container[_ngcontent-%COMP%]{top:0;position:sticky;height:180px;background-color:var(--header-bg);padding:1.25rem;transition:all .5s;overflow:hidden;background-image:url(/img/background-location.png)}.header-container.scrolled[_ngcontent-%COMP%]{z-index:10;height:50px}app-header-actions[_ngcontent-%COMP%]{position:relative;z-index:2}.category-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-end;padding:1.25rem;margin-bottom:1.5rem;position:absolute;inset:0}.info-img[_ngcontent-%COMP%]{width:120px;height:120px;background-repeat:no-repeat;background-size:cover;mask-image:url(/img/comma-mask.png);mask-repeat:no-repeat;mask-size:contain;mask-position:center right}.info-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#fff;line-height:2.5rem;letter-spacing:.025rem}"]})};function Ve(i,t){if(i&1&&s(0,"app-product-card",5),i&2){let e=t.$implicit;c("id",e.id)("title",e.name)("description",e.description)("price",e.price/100)("imageUrl",e.imageUrl)("isFavorite",e.isFavorite)("productData",e)}}function $e(i,t){if(i&1&&(a(0,"div",1),s(1,"app-category-header",2),a(2,"div",3)(3,"div",4),u(4,Ve,1,7,"app-product-card",5,T),n()()()),i&2){let e=d();r(),c("title",e.categoryData.name)("imageUrl",e.categoryData.theme.imageUrl),r(3),f(e.listProducts)}}var B=class i{constructor(t,e,o,p){this.productService=t;this.document=e;this.searchDataService=o;this.activatedRoute=p}listPortion=["Tudo","Individual","Pra galera"];selectedPortion="Tudo";listProducts=[];filteredProducts=[];categoryData;ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{let e=t.get("data");if(e){let o=JSON.parse(e);this.loadCategory(o),this.loadProducts(o.name)}})}ngOnDestroy(){this.clearInlineTheme()}setPortion(t){this.selectedPortion=t,this.filterProducts()}loadCategory(t){this.categoryData=t,this.document.documentElement.style.setProperty("--header-bg",t.theme.colorBg),t.theme.colorText&&this.document.documentElement.style.setProperty("--color-text",t.theme.colorText)}loadProducts(t){this.productService.getProductByCategory(t).subscribe(e=>{this.listProducts=e.data})}filterProducts(){this.filteredProducts=this.listProducts.filter(t=>this.selectedPortion==="Tudo"||t.portion===this.selectedPortion)}clearInlineTheme(){this.document.documentElement.style.removeProperty("--header-bg"),this.document.documentElement.style.removeProperty("--color-text")}static \u0275fac=function(e){return new(e||i)(l(R),l(ee),l(S),l(ae))};static \u0275cmp=m({type:i,selectors:[["app-category-products"]],standalone:!1,decls:1,vars:1,consts:[["class","container pd-bottom-90",4,"ngIf"],[1,"container","pd-bottom-90"],[3,"title","imageUrl"],[1,"content"],[1,"products"],[3,"id","title","description","price","imageUrl","isFavorite","productData"]],template:function(e,o){e&1&&g(0,$e,6,2,"div",0),e&2&&c("ngIf",o.categoryData)},dependencies:[E,H,N],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;overflow:hidden}.container.scrolled[_ngcontent-%COMP%]{overflow:hidden}.content[_ngcontent-%COMP%]{flex:1;margin-top:-1.25rem;padding:2rem 1.25rem;background-color:#fff;border-top-left-radius:1rem;border-top-right-radius:1rem;box-sizing:border-box;display:flex;flex-direction:column;overflow-y:auto;z-index:2}.products[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.portions[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.75rem}.products[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.btn-portion[_ngcontent-%COMP%]{background:none;border:1px solid var(--gray-400);padding:.5rem .75rem;border-radius:1rem;font-size:.75rem;font-weight:400;color:var(--gray-500);transition:.3s}.btn-portion.activate[_ngcontent-%COMP%]{border:none;background-color:var(--header-bg);color:var(--color-text, var(--green-700))}.container.scrolled[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]{overflow-y:auto}"]})};var We=[{path:"",component:F},{path:"categoria/:data",component:B}],j=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=P({type:i});static \u0275inj=b({imports:[z.forChild(We),z]})};var A=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=P({type:i});static \u0275inj=b({imports:[le,be,ve,ge,ue]})};var Se=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=P({type:i});static \u0275inj=b({imports:[te,j,A,ne,fe]})};export{Se as a};
