import{a as z,b as fe,c as _e,d as he}from"./chunk-ATIGSWUA.js";import{a as ge}from"./chunk-SSMQ3YPF.js";import{a as j}from"./chunk-7HNQAFRX.js";import{a as me}from"./chunk-SX7D4KUA.js";import{a as de}from"./chunk-OXJIDWZG.js";import{b as ue}from"./chunk-J3JBHRUM.js";import{$ as g,$a as ce,A as f,Aa as ie,B as b,C as S,Ca as oe,Ea as re,F as y,Fa as J,H as l,I as D,J as B,L as M,M as P,N as T,O as w,P as r,Q as a,R as _,S as x,T as u,U as p,Za as ae,_a as se,aa as h,ba as Y,ca as Z,cb as O,da as U,db as le,ea as k,fa as A,ga as m,ha as d,ib as N,j as R,jb as F,kb as L,la as ee,lb as pe,n as C,o as v,oa as te,qa as ne,w as X,x as o,za as I}from"./chunk-5DVAFENP.js";function Me(t,n){if(t&1){let e=x();r(0,"mat-icon",8),u("click",function(){C(e);let s=p();return v(s.cancelSearch())}),a(),r(1,"button",9),u("click",function(){C(e);let s=p();return v(s.cancelSearch())}),g(2),m(3,"translate"),a()}t&2&&(o(2),h(d(3,1,"BUTTONS.CANCEL")))}function Pe(t,n){if(t&1){let e=x();r(0,"app-restaurant-card",10),u("click",function(){let s=C(e).$implicit,c=p();return v(c.openDetailsRestaurant(s.zigBarId))}),a()}if(t&2){let e=n.$implicit;l("id",e.zigBarId)("imageLogoUrl",e.imageLogoUrl)("name",e.name)}}function Te(t,n){t&1&&(_(0,"app-empty-state",7),m(1,"translate"),m(2,"translate")),t&2&&l("title",d(1,3,"SEARCH_FIELD.NO_RESULTS_FOUND"))("description",d(2,5,"SEARCH_FIELD.MISSING_RESTAURANT"))("showSuggestion",!0)}var V=class t{constructor(n,e){this.restaurantService=n;this.router=e}search="";listRestaurants=[];filteredRestaurants=[];ngOnInit(){this.loadRestaurants()}loadRestaurants(){this.restaurantService.getAllRestaurants().subscribe(n=>{this.listRestaurants=n.data,this.filteredRestaurants=n.data})}filterRestaurants(){this.filteredRestaurants=this.listRestaurants.filter(n=>n.name.toLowerCase().includes(this.search.toLowerCase()))}cancelSearch(){this.search="",this.loadRestaurants()}openDetailsRestaurant(n){this.router.navigate(["restaurantes/",n])}static \u0275fac=function(e){return new(e||t)(f(z),f(re))};static \u0275cmp=b({type:t,selectors:[["app-restaurants"]],standalone:!1,decls:13,vars:9,consts:[[1,"container","pd-bottom-90"],[1,"title"],[1,"form-field"],["svgIcon","search",1,"icon-search"],["type","text",3,"ngModelChange","input","ngModel","placeholder"],[1,"restaurant-grid"],[3,"id","imageLogoUrl","name"],[3,"title","description","showSuggestion"],["svgIcon","close",1,"icon-clear",3,"click"],[1,"btn-cancel",3,"click"],[3,"click","id","imageLogoUrl","name"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h1",1),g(2),m(3,"translate"),a(),r(4,"div",2),_(5,"mat-icon",3),r(6,"input",4),m(7,"translate"),A("ngModelChange",function(c){return k(i.search,c)||(i.search=c),c}),u("input",function(){return i.filterRestaurants()}),a(),y(8,Me,4,3),a(),r(9,"div",5),T(10,Pe,1,3,"app-restaurant-card",6,P,!1,Te,3,7,"app-empty-state",7),a()()),e&2&&(o(2),h(d(3,5,"RESTAURANTS.TITLE")),o(4),U("ngModel",i.search),l("placeholder",d(7,7,"RESTAURANTS.SEARCH")),o(2),M(i.search?8:-1),o(2),w(i.filteredRestaurants))},dependencies:[O,N,F,L,fe,j,I],styles:[".form-field mat-icon svg path{stroke:var(--gray-500)}.container[_ngcontent-%COMP%]{padding:2.25rem 1.25rem;display:flex;flex-direction:column;gap:1.5rem;box-sizing:border-box}.title[_ngcontent-%COMP%]{font-size:2.125rem;color:var(--green-700);font-weight:700}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:.5rem;padding:.25rem;box-sizing:border-box}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border:none;font-size:1rem;font-weight:lighter;color:var(--gray-500);outline:none}.form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:16px}.icon-clear[_ngcontent-%COMP%]{cursor:pointer}.btn-cancel[_ngcontent-%COMP%]{border:none;background-color:none;outline:none;font-size:1rem;font-weight:lighter;color:var(--gray-500);cursor:pointer}.restaurant-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem}"]})};var H=class t{constructor(n,e){this.data=n;this.matBottomSheetRef=e}static \u0275fac=function(e){return new(e||t)(f(ae),f(se))};static \u0275cmp=b({type:t,selectors:[["app-about-restaurant-bottom-sheet"]],standalone:!1,decls:8,vars:8,consts:[[1,"container"],["svgIcon","close",1,"icon-arrow",3,"click"],["alt","",3,"src"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h3"),g(2),m(3,"translate"),a(),r(4,"mat-icon",1),u("click",function(){return i.matBottomSheetRef.dismiss()}),a(),_(5,"img",2),r(6,"p"),g(7),a()()),e&2&&(o(),D("color",i.data.titleColor),o(),Z("",d(3,6,"RESTAURANTS.GET_KNOW")," ",i.data.title,""),o(3),l("src",i.data.imageUrl,X),o(2),h(i.data.text))},dependencies:[O,I],styles:[".container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:1rem;justify-content:center;align-items:center;box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;object-fit:contain;max-height:200px}p[_ngcontent-%COMP%]{color:var(--gray-700);font-weight:100;font-size:.875rem}mat-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;border-radius:100%}"]})};function Ie(t,n){if(t&1&&(r(0,"div",2),_(1,"div",3),r(2,"h2",4),g(3),a(),r(4,"p",5),g(5),a()()),t&2){let e=p();o(),D("background-image","url("+e.imageLogoUrl+")"),o(),D("color",e.colorTitle),o(),h(e.title),o(2),h(e.description)}}var W=class t{constructor(n){this.matBottomSheet=n}title;description;imageLogoUrl;imageUrl;scrolled=!1;headerBg;colorTitle;aboutRestaurant;openInfo(){this.matBottomSheet.open(H,{data:{imageUrl:this.imageUrl,title:this.title,colorTitle:this.colorTitle,text:this.aboutRestaurant}})}static \u0275fac=function(e){return new(e||t)(f(ce))};static \u0275cmp=b({type:t,selectors:[["app-header"]],inputs:{title:"title",description:"description",imageLogoUrl:"imageLogoUrl",imageUrl:"imageUrl",scrolled:"scrolled",headerBg:"headerBg",colorTitle:"colorTitle",aboutRestaurant:"aboutRestaurant"},standalone:!1,decls:3,vars:7,consts:[[1,"header-container"],[3,"info","showShare","showTitle","showInfo","title"],[1,"restaurant-info"],[1,"info-logo"],[1,"info-title"],[1,"info-description"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"app-header-actions",1),u("info",function(){return i.openInfo()}),a(),y(2,Ie,6,6,"div",2),a()),e&2&&(B("scrolled",i.scrolled),o(),l("showShare",!0)("showTitle",i.scrolled)("showInfo",!0)("title",i.title),o(),M(i.scrolled?-1:2))},dependencies:[ge],styles:[".header-container[_ngcontent-%COMP%]{top:0;position:sticky;height:250px;background-color:var(--header-bg);padding:1.25rem;transition:all .5s;overflow:hidden}.header-container.scrolled[_ngcontent-%COMP%]{z-index:10;height:50px;background-image:none!important}app-header-actions[_ngcontent-%COMP%]{position:relative;z-index:2}.restaurant-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;inset:0;z-index:1;pointer-events:none}.info-logo[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:100%;background-position:center;background-repeat:no-repeat;background-size:cover;margin-bottom:1.5rem}.info-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:.5rem}.info-description[_ngcontent-%COMP%]{color:#000;opacity:40%;font-size:.875em;font-weight:400}"]})};function Ee(t,n){if(t&1){let e=x();r(0,"mat-icon",18),u("click",function(){C(e);let s=p(2);return v(s.cancelSearch())}),a()}}function De(t,n){if(t&1){let e=x();r(0,"button",19),u("click",function(){C(e);let s=p(2);return v(s.cancelSearch())}),g(1),m(2,"translate"),a()}t&2&&(o(),h(d(2,1,"BUTTONS.CANCEL")))}function Be(t,n){if(t&1&&_(0,"app-product-card",21),t&2){let e=n.$implicit;l("id",e.id)("imageUrl",e.imageUrl)("title",e.title)("price",e.currentPrice)}}function Ue(t,n){if(t&1&&(r(0,"div",10)(1,"h3"),g(2),m(3,"translate"),a(),r(4,"div",20),T(5,Be,1,4,"app-product-card",21,P),a()()),t&2){let e=p(2);o(2),h(d(3,1,"RESTAURANTS.CHEF_TIPS")),o(3),w(e.listChefTips)}}function ke(t,n){t&1&&(r(0,"h3"),g(1),m(2,"translate"),a()),t&2&&(o(),h(d(2,1,"RESTAURANTS.CHECKOUT_MENU")))}function Ae(t,n){if(t&1){let e=x();r(0,"button",22),u("click",function(){let s=C(e).$implicit,c=p(2);return v(c.setCategory(s))}),g(1),a()}if(t&2){let e=n.$implicit,i=p(2);B("activate",i.selectedCategory===e),o(),Y(" ",e," ")}}function Ne(t,n){if(t&1&&_(0,"app-product-card",16),t&2){let e=n.$implicit;l("id",e.id)("title",e.name)("description",e.description)("price",e.price/100)("imageUrl",e.imageUrl)("isFavorite",e.isFavorite)}}function Fe(t,n){t&1&&(_(0,"app-empty-state",17),m(1,"translate"),m(2,"translate")),t&2&&l("title",d(1,2,"SEARCH_FIELD.NO_RESULTS_FOUND"))("description",d(2,4,"SEARCH_FIELD.NO_RESULTS_FOUND_PLATE"))}function Le(t,n){if(t&1){let e=x();r(0,"div",1),_(1,"app-header",2),r(2,"div",3)(3,"div",4)(4,"div",5),_(5,"mat-icon",6),r(6,"input",7),m(7,"translate"),A("ngModelChange",function(s){C(e);let c=p();return k(c.search,s)||(c.search=s),v(s)}),u("input",function(){C(e);let s=p();return v(s.filterProducts())}),a(),y(8,Ee,1,0,"mat-icon",8),a(),y(9,De,3,3,"button",9),a(),y(10,Ue,7,3,"div",10),r(11,"div",11),y(12,ke,3,3,"h3",12),r(13,"div",13),T(14,Ae,2,3,"button",14,P),a(),r(16,"div",15),T(17,Ne,1,6,"app-product-card",16,P,!1,Fe,3,6,"app-empty-state",17),a()()()()}if(t&2){let e=p();B("scrolled",e.search!=""),o(),l("title",e.restaurant.name)("description",e.restaurant.description)("imageLogoUrl",e.restaurant.imageLogoUrl)("imageUrl",e.restaurant.imageUrl)("aboutRestaurant",e.restaurant.about)("scrolled",e.search!=""),o(5),U("ngModel",e.search),l("placeholder",d(7,15,"RESTAURANTS.SEARCH_RESTAURANT")),o(2),l("ngIf",e.search),o(),l("ngIf",e.search),o(),M(e.search===""?10:-1),o(2),l("ngIf",e.search!=""),o(2),w(e.listCategories),o(3),w(e.filteredProducts)}}var G=class t{constructor(n,e,i,s){this.activatedRoute=n;this.restaurantService=e;this.document=i;this.productService=s}restaurant;search="";selectedCategory="Tudo";listChefTips=[];listCategories=[];listProducts=[];filteredProducts=[];ngOnInit(){this.activatedRoute.params.subscribe(n=>{let e=n.id;e&&(this.loadDetailsRestaurand(e),this.loadChefTips(),this.loadAllProducts(e))})}ngOnDestroy(){this.clearInlineTheme()}loadDetailsRestaurand(n){this.restaurantService.getRestaurantById(n).subscribe(e=>{if(e){this.restaurant=e.data[0];let i=e.data[0].theme;this.document.documentElement.style.setProperty("--header-bg",i.headerBg),this.document.documentElement.style.setProperty("--color-text",i.colorText),this.document.documentElement.style.setProperty("--button-bg",i.buttonBg)}})}cancelSearch(){this.search=""}loadChefTips(){this.productService.getChefTips().subscribe(n=>this.listChefTips=n)}loadAllProducts(n){this.productService.getProductByRestaurant(n).subscribe(e=>{this.listProducts=e.data;let i=e.data.map(c=>c.categories),s=["Tudo"];for(let c=0;c<i.length;c++)for(let q=0;q<i[c].length;q++)s.push(i[c][q].name);this.listCategories=[...new Set(s)],this.filterProducts()})}setCategory(n){this.selectedCategory=n,this.filterProducts()}filterProducts(){this.filteredProducts=this.listProducts.filter(n=>{let e=n.categories.map(c=>c.name),i=this.selectedCategory==="Tudo"||e.includes(this.selectedCategory),s=this.search?n.name.toLowerCase().includes(this.search.toLowerCase()):!0;return i&&s})}clearInlineTheme(){this.document.documentElement.style.removeProperty("--header-bg"),this.document.documentElement.style.removeProperty("--color-text"),this.document.documentElement.style.removeProperty("--button-bg")}static \u0275fac=function(e){return new(e||t)(f(oe),f(z),f(ee),f(me))};static \u0275cmp=b({type:t,selectors:[["app-details-restaurant"]],standalone:!1,decls:1,vars:1,consts:[["class","container",3,"scrolled",4,"ngIf"],[1,"container"],[3,"title","description","imageLogoUrl","imageUrl","aboutRestaurant","scrolled"],[1,"content"],[1,"content-field"],[1,"form-field"],["svgIcon","search",1,"icon-search"],["type","text",3,"ngModelChange","input","ngModel","placeholder"],["class","icon-clear","svgIcon","close",3,"click",4,"ngIf"],["class","btn-cancel",3,"click",4,"ngIf"],[1,"content-tips"],[1,"content-menu"],[4,"ngIf"],[1,"categories"],[1,"btn-category",3,"activate"],[1,"products"],[3,"id","title","description","price","imageUrl","isFavorite"],[3,"title","description"],["svgIcon","close",1,"icon-clear",3,"click"],[1,"btn-cancel",3,"click"],[1,"cards-wrapper"],["layout","vertical",1,"product-card-vertical",3,"id","imageUrl","title","price"],[1,"btn-category",3,"click"]],template:function(e,i){e&1&&y(0,Le,20,17,"div",0),e&2&&l("ngIf",i.restaurant)},dependencies:[te,O,N,F,L,de,j,W,I],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;overflow:hidden}.container.scrolled[_ngcontent-%COMP%]{overflow:hidden}app-header[_ngcontent-%COMP%]{display:block;position:relative;z-index:1}h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:var(--color-text)}.content[_ngcontent-%COMP%]{flex:1;margin-top:-1.25rem;padding:2rem 1.25rem;background-color:#fff;border-top-left-radius:1rem;border-top-right-radius:1rem;box-sizing:border-box;display:flex;flex-direction:column;gap:1.5rem;overflow-y:auto;z-index:2}.container.scrolled[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .container.scrolled[_ngcontent-%COMP%]   .content-menu[_ngcontent-%COMP%]{overflow:hidden;min-height:0}.content-field[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem;box-sizing:border-box}.form-field[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0;display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:.5rem;padding:.5rem .625rem;border-radius:.75rem;background-color:var(--gray-100)}.form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0;border:none;font-size:1rem;font-weight:lighter;color:var(--gray-500);outline:none;background:none;text-overflow:ellipsis}.form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:16px}.icon-clear[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%]{cursor:pointer}.btn-cancel[_ngcontent-%COMP%]{border:none;background:none;outline:none;font-size:1rem;font-weight:lighter;color:var(--gray-500)}.content-tips[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.cards-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;box-sizing:border-box}.product-card-vertical[_ngcontent-%COMP%]{flex:1 1 0;max-width:30%}.content-menu[_ngcontent-%COMP%], .products[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.content-menu[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1.5rem}.categories[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.75rem;overflow-x:auto}.products[_ngcontent-%COMP%]::-webkit-scrollbar, .categories[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.btn-category[_ngcontent-%COMP%]{background:none;border:1px solid var(--gray-400);padding:.5rem .75rem;border-radius:1rem;font-size:.75rem;font-weight:400;color:var(--gray-500);transition:.3s}.btn-category.activate[_ngcontent-%COMP%]{border:none;background-color:var(--button-bg);color:#fff}.container.scrolled[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]{overflow-y:auto}"]})};var ze=[{path:"",component:V},{path:":id",component:G}],K=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=S({type:t});static \u0275inj=R({imports:[J.forChild(ze),J]})};var $=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=S({type:t});static \u0275inj=R({imports:[le,he,_e,pe]})};var ye=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=S({type:t});static \u0275inj=R({imports:[ne,K,ie,$,ue]})};export{ye as a};
